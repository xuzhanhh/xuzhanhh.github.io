{"expireTime":9007200799509181000,"key":"transformer-remark-markdown-html-ast-6c796db21a5c3323967878c074ea3c18-gatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypants-","val":{"type":"root","children":[{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"这里我还没写完","position":{"start":{"line":2,"column":4,"offset":4},"end":{"line":2,"column":11,"offset":11}}}],"position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":11,"offset":11}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"img","properties":{"src":"/Users/xuzhanhong1/Documents/image-20181110201732613.png","alt":"image-20181110201732613"},"children":[],"position":{"start":{"line":4,"column":1,"offset":13},"end":{"line":4,"column":85,"offset":97}}}],"position":{"start":{"line":4,"column":1,"offset":13},"end":{"line":4,"column":85,"offset":97}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"img","properties":{"src":"/Users/xuzhanhong1/Documents/image-20181110202214457.png","alt":"image-20181110202214457"},"children":[],"position":{"start":{"line":8,"column":1,"offset":101},"end":{"line":8,"column":85,"offset":185}}}],"position":{"start":{"line":8,"column":1,"offset":101},"end":{"line":8,"column":85,"offset":185}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"img","properties":{"src":"/var/folders/h5/1tnmsg713pldfgpyxh4c41wm0m7_pl/T/abnerworks.Typora/image-20181110203945805.png","alt":"image-20181110203945805"},"children":[],"position":{"start":{"line":12,"column":1,"offset":189},"end":{"line":12,"column":123,"offset":311}}}],"position":{"start":{"line":12,"column":1,"offset":189},"end":{"line":12,"column":123,"offset":311}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"stack reconciler的缺点","position":{"start":{"line":14,"column":4,"offset":316},"end":{"line":14,"column":23,"offset":335}}}],"position":{"start":{"line":14,"column":1,"offset":313},"end":{"line":14,"column":23,"offset":335}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"​\t在我们执行update操作之前我们已经有一个在初始render时已经构造好的fiber树，react也会开始work-in-progress树并添加第一个fiber节点，因为我们不想当我们计算变动时直接修改dom，这个跟stack reconciler不一样，stack reconciler在往下走改变实例时同时改动当前的dom节点。","position":{"start":{"line":16,"column":1,"offset":337},"end":{"line":16,"column":171,"offset":507}}}],"position":{"start":{"line":16,"column":1,"offset":337},"end":{"line":16,"column":171,"offset":507}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"​\t例如在将实例2变成4时，同时也会改动dom node从2到4在react计算第三个实例应该从3变到9前。","position":{"start":{"line":18,"column":1,"offset":509},"end":{"line":18,"column":55,"offset":563}}}],"position":{"start":{"line":18,"column":1,"offset":509},"end":{"line":18,"column":55,"offset":563}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"img","properties":{"src":"/var/folders/h5/1tnmsg713pldfgpyxh4c41wm0m7_pl/T/abnerworks.Typora/image-20181110204749728.png","alt":"image-20181110204749728"},"children":[],"position":{"start":{"line":20,"column":1,"offset":565},"end":{"line":20,"column":123,"offset":687}}}],"position":{"start":{"line":20,"column":1,"offset":565},"end":{"line":20,"column":123,"offset":687}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"这样子是可行的如果你一次性同步地完成所有事情。如果你需要在两个实例间打断时，浏览器需要时间paint和layout，但是只有2变成4而3没有变成9，这样你的ui就会变得不连续。","position":{"start":{"line":22,"column":1,"offset":689},"end":{"line":22,"column":89,"offset":777}}}],"position":{"start":{"line":22,"column":1,"offset":689},"end":{"line":22,"column":89,"offset":777}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"fiber phases","position":{"start":{"line":26,"column":4,"offset":784},"end":{"line":26,"column":16,"offset":796}}}],"position":{"start":{"line":26,"column":1,"offset":781},"end":{"line":26,"column":16,"offset":796}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"第一个阶段，react只会构建fiber tree和work-in-progress tree和变动列表（可中断）","position":{"start":{"line":28,"column":1,"offset":798},"end":{"line":28,"column":58,"offset":855}}}],"position":{"start":{"line":28,"column":1,"offset":798},"end":{"line":28,"column":58,"offset":855}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"第二阶段，将这些变动作用到dom上（不可中断）","position":{"start":{"line":30,"column":1,"offset":857},"end":{"line":30,"column":24,"offset":880}}}],"position":{"start":{"line":30,"column":1,"offset":857},"end":{"line":30,"column":24,"offset":880}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"img","properties":{"src":"/var/folders/h5/1tnmsg713pldfgpyxh4c41wm0m7_pl/T/abnerworks.Typora/image-20181110210012223.png","alt":"image-20181110205919129"},"children":[],"position":{"start":{"line":32,"column":1,"offset":882},"end":{"line":32,"column":123,"offset":1004}}}],"position":{"start":{"line":32,"column":1,"offset":882},"end":{"line":32,"column":123,"offset":1004}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"阶段1","position":{"start":{"line":36,"column":4,"offset":1011},"end":{"line":36,"column":7,"offset":1014}}}],"position":{"start":{"line":36,"column":1,"offset":1008},"end":{"line":36,"column":7,"offset":1014}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"当我们点击按钮时触发了setState","position":{"start":{"line":38,"column":4,"offset":1019},"end":{"line":38,"column":23,"offset":1038}}}],"position":{"start":{"line":38,"column":1,"offset":1016},"end":{"line":38,"column":23,"offset":1038}}},{"type":"text","value":"\n"}],"position":{"start":{"line":38,"column":1,"offset":1016},"end":{"line":38,"column":23,"offset":1038}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"img","properties":{"src":"/Users/xuzhanhong1/Documents/image-20181110210205135.png","alt":"image-20181110210205135"},"children":[],"position":{"start":{"line":40,"column":1,"offset":1040},"end":{"line":40,"column":85,"offset":1124}}}],"position":{"start":{"line":40,"column":1,"offset":1040},"end":{"line":40,"column":85,"offset":1124}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{"start":2},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"当setState被调用时，react会添加List组件一系列更新添加到更新队列中，然后react会开始调度这些工作","position":{"start":{"line":42,"column":4,"offset":1129},"end":{"line":42,"column":62,"offset":1187}}},{"type":"element","tagName":"img","properties":{"src":"/Users/xuzhanhong1/Documents/image-20181110210528429.png","alt":"image-20181110210528429"},"children":[],"position":{"start":{"line":42,"column":62,"offset":1187},"end":{"line":42,"column":146,"offset":1271}}}],"position":{"start":{"line":42,"column":4,"offset":1129},"end":{"line":42,"column":146,"offset":1271}}},{"type":"text","value":"\n"}],"position":{"start":{"line":42,"column":1,"offset":1126},"end":{"line":43,"column":1,"offset":1272}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"使用request idle callback去延迟完成这些工作 ","position":{"start":{"line":44,"column":4,"offset":1276},"end":{"line":44,"column":37,"offset":1309}}}],"position":{"start":{"line":44,"column":4,"offset":1276},"end":{"line":44,"column":37,"offset":1309}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"img","properties":{"src":"/Users/xuzhanhong1/Documents/image-20181110210741530.png","alt":"image-20181110210741530"},"children":[],"position":{"start":{"line":46,"column":4,"offset":1314},"end":{"line":46,"column":88,"offset":1398}}}],"position":{"start":{"line":46,"column":4,"offset":1314},"end":{"line":46,"column":88,"offset":1398}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"当主线程有空闲时间时会把具体剩余时间给react，具体几毫秒到几十毫秒（当最近的将来没有frame scheduled时）","position":{"start":{"line":48,"column":4,"offset":1403},"end":{"line":48,"column":65,"offset":1464}}}],"position":{"start":{"line":48,"column":4,"offset":1403},"end":{"line":48,"column":65,"offset":1464}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"img","properties":{"src":"/Users/xuzhanhong1/Documents/image-20181110211003501.png","alt":"image-20181110211003501"},"children":[],"position":{"start":{"line":50,"column":4,"offset":1469},"end":{"line":50,"column":88,"offset":1553}}}],"position":{"start":{"line":50,"column":4,"offset":1469},"end":{"line":50,"column":88,"offset":1553}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"​\t这样react可以使用这些剩余时间处理更新并当其他工作需要处理时将时间还给主线程。这样的操作需要跟踪两个时间，next unit of work that it needs to work on 和 主线程给与的剩余时间","position":{"start":{"line":52,"column":4,"offset":1558},"end":{"line":52,"column":116,"offset":1670}}}],"position":{"start":{"line":52,"column":4,"offset":1558},"end":{"line":52,"column":116,"offset":1670}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"img","properties":{"src":"/Users/xuzhanhong1/Documents/image-20181110211302791.png","alt":"image-20181110211302791"},"children":[],"position":{"start":{"line":54,"column":4,"offset":1675},"end":{"line":54,"column":88,"offset":1759}}}],"position":{"start":{"line":54,"column":4,"offset":1675},"end":{"line":54,"column":88,"offset":1759}}},{"type":"text","value":"\n"}],"position":{"start":{"line":44,"column":1,"offset":1273},"end":{"line":55,"column":1,"offset":1760}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"从current复制HostRoot的数据到workInProgress tree 并添加一个指针指向儿子（List）","position":{"start":{"line":56,"column":4,"offset":1764},"end":{"line":56,"column":63,"offset":1823}}}],"position":{"start":{"line":56,"column":4,"offset":1764},"end":{"line":56,"column":63,"offset":1823}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"img","properties":{"src":"/Users/xuzhanhong1/Documents/image-20181110211949517.png","alt":"image-20181110211949517"},"children":[],"position":{"start":{"line":58,"column":4,"offset":1828},"end":{"line":58,"column":88,"offset":1912}}}],"position":{"start":{"line":58,"column":4,"offset":1828},"end":{"line":58,"column":88,"offset":1912}}},{"type":"text","value":"\n"}],"position":{"start":{"line":56,"column":1,"offset":1761},"end":{"line":59,"column":1,"offset":1913}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"因为List本身没有更新，所以将List复制到workInProgress tree。并且List有更新队列，所以也会复制update Queue。","position":{"start":{"line":60,"column":4,"offset":1917},"end":{"line":60,"column":78,"offset":1991}}}],"position":{"start":{"line":60,"column":4,"offset":1917},"end":{"line":60,"column":78,"offset":1991}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"img","properties":{"src":"/Users/xuzhanhong1/Documents/image-20181110212258539.png","alt":"image-20181110212258539"},"children":[],"position":{"start":{"line":62,"column":4,"offset":1996},"end":{"line":62,"column":88,"offset":2080}}}],"position":{"start":{"line":62,"column":4,"offset":1996},"end":{"line":62,"column":88,"offset":2080}}},{"type":"text","value":"\n"}],"position":{"start":{"line":60,"column":1,"offset":1914},"end":{"line":63,"column":1,"offset":2081}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"所以List fiber is going to be returned as the next unit of work","position":{"start":{"line":64,"column":4,"offset":2085},"end":{"line":64,"column":65,"offset":2146}}},{"type":"element","tagName":"img","properties":{"src":"/Users/xuzhanhong1/Documents/image-20181110212347964.png","alt":"image-20181110212347964"},"children":[],"position":{"start":{"line":64,"column":65,"offset":2146},"end":{"line":64,"column":149,"offset":2230}}}],"position":{"start":{"line":64,"column":4,"offset":2085},"end":{"line":64,"column":149,"offset":2230}}},{"type":"text","value":"\n"}],"position":{"start":{"line":64,"column":1,"offset":2082},"end":{"line":65,"column":1,"offset":2231}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"React 会检查deadline是否到来。因为还有剩余的时间，react会继续处理List","position":{"start":{"line":66,"column":4,"offset":2235},"end":{"line":66,"column":50,"offset":2281}}},{"type":"element","tagName":"img","properties":{"src":"/Users/xuzhanhong1/Documents/image-20181110212645386.png","alt":"image-20181110212645386"},"children":[],"position":{"start":{"line":66,"column":50,"offset":2281},"end":{"line":66,"column":134,"offset":2365}}}],"position":{"start":{"line":66,"column":4,"offset":2235},"end":{"line":66,"column":134,"offset":2365}}},{"type":"text","value":"\n"}],"position":{"start":{"line":66,"column":1,"offset":2232},"end":{"line":67,"column":1,"offset":2366}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"因为List有更新队列，所以react会处理这些更新，他会调用updater函数，且传对象的setState以后的某个版本被移除","position":{"start":{"line":68,"column":4,"offset":2370},"end":{"line":68,"column":68,"offset":2434}}},{"type":"element","tagName":"img","properties":{"src":"/Users/xuzhanhong1/Documents/image-20181110212849733.png","alt":"image-20181110212849733"},"children":[],"position":{"start":{"line":68,"column":68,"offset":2434},"end":{"line":68,"column":152,"offset":2518}}},{"type":"text","value":"并结束处理更新队列，fiber会标记一个tag表示他会修改dom树","position":{"start":{"line":68,"column":152,"offset":2518},"end":{"line":68,"column":185,"offset":2551}}},{"type":"element","tagName":"img","properties":{"src":"/Users/xuzhanhong1/Documents/image-20181110213110874.png","alt":"image-20181110213110874"},"children":[],"position":{"start":{"line":68,"column":185,"offset":2551},"end":{"line":68,"column":269,"offset":2635}}}],"position":{"start":{"line":68,"column":4,"offset":2370},"end":{"line":68,"column":269,"offset":2635}}},{"type":"text","value":"\n"}],"position":{"start":{"line":68,"column":1,"offset":2367},"end":{"line":69,"column":1,"offset":2636}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"在继续往下处理前，我们需要知道List的children，所以react会在List实例设置props和state并调用render，我们会得到一个数组的元素。react会遍历这些元素去判断在current tree中是否有可以重用的fiber。如果有，则直接复制","position":{"start":{"line":70,"column":4,"offset":2640},"end":{"line":70,"column":136,"offset":2772}}}],"position":{"start":{"line":70,"column":4,"offset":2640},"end":{"line":70,"column":136,"offset":2772}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"img","properties":{"src":"/Users/xuzhanhong1/Documents/image-20181110213813900.png","alt":"image-20181110213813900"},"children":[],"position":{"start":{"line":72,"column":4,"offset":2777},"end":{"line":72,"column":88,"offset":2861}}}],"position":{"start":{"line":72,"column":4,"offset":2777},"end":{"line":72,"column":88,"offset":2861}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"img","properties":{"src":"/Users/xuzhanhong1/Documents/image-20181110213944644.png","alt":"image-20181110213944644"},"children":[],"position":{"start":{"line":74,"column":4,"offset":2866},"end":{"line":74,"column":88,"offset":2950}}}],"position":{"start":{"line":74,"column":4,"offset":2866},"end":{"line":74,"column":88,"offset":2950}}},{"type":"text","value":"\n"}],"position":{"start":{"line":70,"column":1,"offset":2637},"end":{"line":75,"column":1,"offset":2951}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"然后会返回List的第一个child button作为下一个unit of work, 然后react会回到work loop并检查deadline。","position":{"start":{"line":76,"column":5,"offset":2956},"end":{"line":76,"column":80,"offset":3031}}},{"type":"element","tagName":"img","properties":{"src":"/Users/xuzhanhong1/Documents/image-20181110214543420.png","alt":"image-20181110214543420"},"children":[],"position":{"start":{"line":76,"column":80,"offset":3031},"end":{"line":76,"column":164,"offset":3115}}},{"type":"element","tagName":"img","properties":{"src":"/Users/xuzhanhong1/Documents/image-20181110214728829.png","alt":"image-20181110214728829"},"children":[],"position":{"start":{"line":76,"column":164,"offset":3115},"end":{"line":76,"column":248,"offset":3199}}}],"position":{"start":{"line":76,"column":5,"offset":2956},"end":{"line":76,"column":248,"offset":3199}}},{"type":"text","value":"\n"}],"position":{"start":{"line":76,"column":1,"offset":2952},"end":{"line":77,"column":1,"offset":3200}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"这个时候用户想搞事情，点击放大字体按钮去改变web字体大小","position":{"start":{"line":78,"column":5,"offset":3205},"end":{"line":78,"column":34,"offset":3234}}},{"type":"element","tagName":"img","properties":{"src":"/var/folders/h5/1tnmsg713pldfgpyxh4c41wm0m7_pl/T/abnerworks.Typora/image-20181110214856489.png","alt":"image-20181110214856489"},"children":[],"position":{"start":{"line":78,"column":34,"offset":3234},"end":{"line":78,"column":156,"offset":3356}}}],"position":{"start":{"line":78,"column":5,"offset":3205},"end":{"line":78,"column":156,"offset":3356}}},{"type":"text","value":"\n"}],"position":{"start":{"line":78,"column":1,"offset":3201},"end":{"line":79,"column":1,"offset":3357}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"这样会导致给队列中的一些东西添加了一个回调，主线程需要去关心的，但是不是马上因为react仍然有时间继续处理next unit of work — button。button是我们第一个遇到的没有孩子的元素，所以他不会创建新的工作。所以react可以完成这个单位的工作，这意味着比较新旧元素查看是否有变动，如果有变动需要变动dom则会标记。然后因为button没有孩子，所以会返回邻居作为下一个单位的工作","position":{"start":{"line":80,"column":5,"offset":3362},"end":{"line":80,"column":208,"offset":3565}}},{"type":"element","tagName":"img","properties":{"src":"/Users/xuzhanhong1/Documents/image-20181110215513582.png","alt":"image-20181110215513582"},"children":[],"position":{"start":{"line":80,"column":208,"offset":3565},"end":{"line":80,"column":292,"offset":3649}}}],"position":{"start":{"line":80,"column":5,"offset":3362},"end":{"line":80,"column":292,"offset":3649}}},{"type":"text","value":"\n"}],"position":{"start":{"line":80,"column":1,"offset":3358},"end":{"line":81,"column":1,"offset":3650}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"react会结束这个单元的工作并回到work loop中检查deadline","position":{"start":{"line":82,"column":5,"offset":3655},"end":{"line":82,"column":43,"offset":3693}}},{"type":"element","tagName":"img","properties":{"src":"/Users/xuzhanhong1/Documents/image-20181110215657530.png","alt":"image-20181110215657530"},"children":[],"position":{"start":{"line":82,"column":43,"offset":3693},"end":{"line":82,"column":127,"offset":3777}}}],"position":{"start":{"line":82,"column":5,"offset":3655},"end":{"line":82,"column":127,"offset":3777}}},{"type":"text","value":"\n"}],"position":{"start":{"line":82,"column":1,"offset":3651},"end":{"line":83,"column":1,"offset":3778}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"item中有sCU，并且因为sCU返回false所以item1不需要对dom进行修改，所以不需要打标签。然后邻居作为下一个单元的工作。同样地，react回到work loop检查deadline并回来","position":{"start":{"line":84,"column":5,"offset":3783},"end":{"line":84,"column":105,"offset":3883}}},{"type":"element","tagName":"img","properties":{"src":"/Users/xuzhanhong1/Documents/image-20181110215823086.png","alt":"image-20181110215823086"},"children":[],"position":{"start":{"line":84,"column":105,"offset":3883},"end":{"line":84,"column":189,"offset":3967}}}],"position":{"start":{"line":84,"column":5,"offset":3783},"end":{"line":84,"column":189,"offset":3967}}},{"type":"text","value":"\n"}],"position":{"start":{"line":84,"column":1,"offset":3779},"end":{"line":85,"column":1,"offset":3968}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"第二个item的sCU返回true，所以会被标记为有更变，然后他的div会被复制过来，并且将div返回作为下一个单元的工作\n","position":{"start":{"line":86,"column":5,"offset":3973},"end":{"line":87,"column":5,"offset":4040}}},{"type":"element","tagName":"img","properties":{"src":"/Users/xuzhanhong1/Documents/image-20181110220630861.png","alt":"image-20181110220630861"},"children":[],"position":{"start":{"line":87,"column":5,"offset":4040},"end":{"line":87,"column":89,"offset":4124}}},{"type":"element","tagName":"img","properties":{"src":"/Users/xuzhanhong1/Documents/image-20181110220704324.png","alt":"image-20181110220704324"},"children":[],"position":{"start":{"line":87,"column":89,"offset":4124},"end":{"line":87,"column":173,"offset":4208}}}],"position":{"start":{"line":86,"column":5,"offset":3973},"end":{"line":87,"column":173,"offset":4208}}},{"type":"text","value":"\n"}],"position":{"start":{"line":86,"column":1,"offset":3969},"end":{"line":89,"column":5,"offset":4214}}},{"type":"text","value":"\n"}],"position":{"start":{"line":42,"column":1,"offset":1126},"end":{"line":89,"column":5,"offset":4214}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{"start":16},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"因为我们还有一丢丢时间所以我们准备处理这个div，因为这个div没有children所以我们可以完成它，我们发现这个div的内容变更了，所以我们给他打上标记\n","position":{"start":{"line":91,"column":6,"offset":4221},"end":{"line":92,"column":5,"offset":4304}}},{"type":"element","tagName":"img","properties":{"src":"/Users/xuzhanhong1/Documents/image-20181110222423364.png","alt":"image-20181110222222665"},"children":[],"position":{"start":{"line":92,"column":5,"offset":4304},"end":{"line":92,"column":89,"offset":4388}}}],"position":{"start":{"line":91,"column":6,"offset":4221},"end":{"line":92,"column":89,"offset":4388}}},{"type":"text","value":"\n"}],"position":{"start":{"line":91,"column":1,"offset":4216},"end":{"line":93,"column":1,"offset":4389}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"因为当前没有邻居也没有children，没有下个单元的工作，所以会调用他父亲的complete，并且这是我们第一次将变动添加到一个列表，因为他有tag且完成了(completed)。\n","position":{"start":{"line":94,"column":5,"offset":4394},"end":{"line":95,"column":5,"offset":4490}}},{"type":"element","tagName":"img","properties":{"src":"/Users/xuzhanhong1/Documents/image-20181110224035848.png","alt":"image-20181110224035848"},"children":[],"position":{"start":{"line":95,"column":5,"offset":4490},"end":{"line":95,"column":89,"offset":4574}}}],"position":{"start":{"line":94,"column":5,"offset":4394},"end":{"line":95,"column":89,"offset":4574}}},{"type":"text","value":"\n"}],"position":{"start":{"line":94,"column":1,"offset":4390},"end":{"line":96,"column":1,"offset":4575}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"这个时候item也完成了(complated)并且他也有一个tag。so it’s going to move itself up to it’s going to start creating this list of changes on its parent. It merge its own list of changes into the parents effect list","position":{"start":{"line":97,"column":5,"offset":4580},"end":{"line":97,"column":200,"offset":4775}}}],"position":{"start":{"line":97,"column":5,"offset":4580},"end":{"line":97,"column":200,"offset":4775}}},{"type":"text","value":"\n"}],"position":{"start":{"line":97,"column":1,"offset":4576},"end":{"line":98,"column":1,"offset":4776}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"item会将div的变动放到effect list的第一个，然后将自己放到effect list的末尾\n","position":{"start":{"line":99,"column":5,"offset":4781},"end":{"line":100,"column":5,"offset":4837}}},{"type":"element","tagName":"img","properties":{"src":"/Users/xuzhanhong1/Documents/image-20181110224526544.png","alt":"image-20181110224526544"},"children":[],"position":{"start":{"line":100,"column":5,"offset":4837},"end":{"line":100,"column":89,"offset":4921}}}],"position":{"start":{"line":99,"column":5,"offset":4781},"end":{"line":100,"column":89,"offset":4921}}},{"type":"text","value":"\n"}],"position":{"start":{"line":99,"column":1,"offset":4777},"end":{"line":101,"column":1,"offset":4922}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"第二个item complete 并返回邻居作为下一个单元的工作","position":{"start":{"line":102,"column":5,"offset":4927},"end":{"line":102,"column":37,"offset":4959}}},{"type":"element","tagName":"img","properties":{"src":"/Users/xuzhanhong1/Documents/image-20181110224637609.png","alt":"image-20181110224637609"},"children":[],"position":{"start":{"line":102,"column":37,"offset":4959},"end":{"line":102,"column":121,"offset":5043}}}],"position":{"start":{"line":102,"column":5,"offset":4927},"end":{"line":102,"column":121,"offset":5043}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"返回work loop，react发现deadline已经到了。所以react会释放资源并让主线程处理其他任务","position":{"start":{"line":104,"column":5,"offset":5049},"end":{"line":104,"column":60,"offset":5104}}}],"position":{"start":{"line":104,"column":5,"offset":5049},"end":{"line":104,"column":60,"offset":5104}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"img","properties":{"src":"/Users/xuzhanhong1/Documents/image-20181110224810666.png","alt":"image-20181110224810666"},"children":[],"position":{"start":{"line":106,"column":5,"offset":5110},"end":{"line":106,"column":89,"offset":5194}}}],"position":{"start":{"line":106,"column":5,"offset":5110},"end":{"line":106,"column":89,"offset":5194}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"react仍然需要继续完成任务，所以使用rIC让主线程完成工作后继续调用react","position":{"start":{"line":108,"column":5,"offset":5200},"end":{"line":108,"column":46,"offset":5241}}}],"position":{"start":{"line":108,"column":5,"offset":5200},"end":{"line":108,"column":46,"offset":5241}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"img","properties":{"src":"/Users/xuzhanhong1/Documents/image-20181110224939741.png","alt":"image-20181110224939741"},"children":[],"position":{"start":{"line":110,"column":5,"offset":5247},"end":{"line":110,"column":89,"offset":5331}}}],"position":{"start":{"line":110,"column":5,"offset":5247},"end":{"line":110,"column":89,"offset":5331}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"然后主线程会去处理等待中的callback，在这个例子中是layout","position":{"start":{"line":112,"column":5,"offset":5337},"end":{"line":112,"column":40,"offset":5372}}}],"position":{"start":{"line":112,"column":5,"offset":5337},"end":{"line":112,"column":40,"offset":5372}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"img","properties":{"src":"/Users/xuzhanhong1/Documents/image-20181110225030973.png","alt":"image-20181110225030973"},"children":[],"position":{"start":{"line":114,"column":5,"offset":5378},"end":{"line":114,"column":89,"offset":5462}}}],"position":{"start":{"line":114,"column":5,"offset":5378},"end":{"line":114,"column":89,"offset":5462}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"不过注意到nothing in the content of our react app is changed even though react note says going to need to change two to four 在将来的某个时间，而不是现在。","position":{"start":{"line":116,"column":5,"offset":5468},"end":{"line":116,"column":140,"offset":5603}}}],"position":{"start":{"line":116,"column":5,"offset":5468},"end":{"line":116,"column":140,"offset":5603}}},{"type":"text","value":"\n"}],"position":{"start":{"line":102,"column":1,"offset":4923},"end":{"line":118,"column":5,"offset":5609}}},{"type":"text","value":"\n"}],"position":{"start":{"line":91,"column":1,"offset":4216},"end":{"line":118,"column":5,"offset":5609}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{"start":21},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"main thread 处理完其他事情会继续调用react，最后两个单元工作和第二个item一样","position":{"start":{"line":120,"column":5,"offset":5615},"end":{"line":120,"column":53,"offset":5663}}}],"position":{"start":{"line":120,"column":5,"offset":5615},"end":{"line":120,"column":53,"offset":5663}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"img","properties":{"src":"/Users/xuzhanhong1/Documents/image-20181110225617532.png","alt":"image-20181110225617532"},"children":[],"position":{"start":{"line":122,"column":5,"offset":5669},"end":{"line":122,"column":89,"offset":5753}}},{"type":"text","value":"\n","position":{"start":{"line":122,"column":89,"offset":5753},"end":{"line":123,"column":5,"offset":5758}}},{"type":"element","tagName":"img","properties":{"src":"/Users/xuzhanhong1/Documents/image-20181110225632116.png","alt":"image-20181110225632116"},"children":[],"position":{"start":{"line":123,"column":5,"offset":5758},"end":{"line":123,"column":89,"offset":5842}}}],"position":{"start":{"line":122,"column":5,"offset":5669},"end":{"line":123,"column":89,"offset":5842}}},{"type":"text","value":"\n"}],"position":{"start":{"line":120,"column":1,"offset":5611},"end":{"line":123,"column":89,"offset":5842}}},{"type":"text","value":"\n"}],"position":{"start":{"line":120,"column":1,"offset":5611},"end":{"line":123,"column":89,"offset":5842}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"即完成了List下面的所有单元工作，所以List可以调用complete，并将自己和孩子的更变放到effect list中，然后HostRoot也完成了\n","position":{"start":{"line":125,"column":1,"offset":5844},"end":{"line":126,"column":1,"offset":5921}}},{"type":"element","tagName":"img","properties":{"src":"/Users/xuzhanhong1/Documents/image-20181110230128716.png","alt":"image-20181110225715325"},"children":[],"position":{"start":{"line":126,"column":1,"offset":5921},"end":{"line":126,"column":85,"offset":6005}}},{"type":"text","value":"\n","position":{"start":{"line":126,"column":85,"offset":6005},"end":{"line":127,"column":1,"offset":6006}}},{"type":"element","tagName":"img","properties":{"src":"/Users/xuzhanhong1/Documents/image-20181110225807413.png","alt":"image-20181110225807413"},"children":[],"position":{"start":{"line":127,"column":1,"offset":6006},"end":{"line":127,"column":85,"offset":6090}}}],"position":{"start":{"line":125,"column":1,"offset":5844},"end":{"line":127,"column":85,"offset":6090}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{"start":22},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"react会将work-in-progress tree设成pending commit，这意味着第一个阶段结束了。我们更新了work-in-progress tree和指出了变动列表","position":{"start":{"line":131,"column":5,"offset":6098},"end":{"line":131,"column":97,"offset":6190}}}],"position":{"start":{"line":131,"column":1,"offset":6094},"end":{"line":131,"column":97,"offset":6190}}},{"type":"text","value":"\n"}],"position":{"start":{"line":131,"column":1,"offset":6094},"end":{"line":131,"column":97,"offset":6190}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"阶段2","position":{"start":{"line":135,"column":4,"offset":6197},"end":{"line":135,"column":7,"offset":6200}}}],"position":{"start":{"line":135,"column":1,"offset":6194},"end":{"line":135,"column":7,"offset":6200}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"react 会检查deadline判断是否有时间立刻执行commit，如果不够则在rIC后第一时间commit这个pending commit","position":{"start":{"line":137,"column":4,"offset":6205},"end":{"line":137,"column":75,"offset":6276}}},{"type":"element","tagName":"img","properties":{"src":"/Users/xuzhanhong1/Documents/image-20181110230504330.png","alt":"image-20181110230504330"},"children":[],"position":{"start":{"line":137,"column":75,"offset":6276},"end":{"line":137,"column":159,"offset":6360}}}],"position":{"start":{"line":137,"column":1,"offset":6202},"end":{"line":137,"column":159,"offset":6360}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"react会遍历effect list并应该更变到dom上，从第一个fiber开始","position":{"start":{"line":138,"column":4,"offset":6364},"end":{"line":138,"column":45,"offset":6405}}}],"position":{"start":{"line":138,"column":1,"offset":6361},"end":{"line":138,"column":45,"offset":6405}}},{"type":"text","value":"\n"}],"position":{"start":{"line":137,"column":1,"offset":6202},"end":{"line":138,"column":45,"offset":6405}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"img","properties":{"src":"/Users/xuzhanhong1/Documents/image-20181110230821602.png","alt":"image-20181110230821602"},"children":[],"position":{"start":{"line":140,"column":1,"offset":6407},"end":{"line":140,"column":85,"offset":6491}}},{"type":"text","value":"\n","position":{"start":{"line":140,"column":85,"offset":6491},"end":{"line":141,"column":1,"offset":6492}}},{"type":"element","tagName":"img","properties":{"src":"/Users/xuzhanhong1/Documents/image-20181110230855909.png","alt":"image-20181110230855909"},"children":[],"position":{"start":{"line":141,"column":1,"offset":6492},"end":{"line":141,"column":85,"offset":6576}}},{"type":"text","value":"\n","position":{"start":{"line":141,"column":85,"offset":6576},"end":{"line":142,"column":1,"offset":6577}}},{"type":"element","tagName":"img","properties":{"src":"/Users/xuzhanhong1/Documents/image-20181110230913246.png","alt":"image-20181110230913246"},"children":[],"position":{"start":{"line":142,"column":1,"offset":6577},"end":{"line":142,"column":85,"offset":6661}}},{"type":"text","value":"\nitem没有任何改变，因为我们不使用ref，不过如果我们在item中有ref will be detached now and then it would be reattached later\n","position":{"start":{"line":142,"column":85,"offset":6661},"end":{"line":144,"column":1,"offset":6760}}},{"type":"element","tagName":"img","properties":{"src":"/Users/xuzhanhong1/Documents/image-20181110231153619.png","alt":"image-20181110231153619"},"children":[],"position":{"start":{"line":144,"column":1,"offset":6760},"end":{"line":144,"column":85,"offset":6844}}},{"type":"text","value":"\n","position":{"start":{"line":144,"column":85,"offset":6844},"end":{"line":145,"column":1,"offset":6845}}},{"type":"element","tagName":"img","properties":{"src":"/Users/xuzhanhong1/Documents/image-20181110231121156.png","alt":"image-20181110231121156"},"children":[],"position":{"start":{"line":145,"column":1,"offset":6845},"end":{"line":145,"column":85,"offset":6929}}},{"type":"text","value":"\n现在所有变动都在第一阶段计算完毕并commit到dom树。这意味着work-in-progress tree is actually a more up-to-date version of state of the app than the current tree，所以react需要修复current tree。他会切换指针，所以当前指针指向我们刚构建的work-in-pregress tree\n","position":{"start":{"line":145,"column":85,"offset":6929},"end":{"line":147,"column":1,"offset":7132}}},{"type":"element","tagName":"img","properties":{"src":"/Users/xuzhanhong1/Documents/image-20181110231429089.png","alt":"image-20181110231429089"},"children":[],"position":{"start":{"line":147,"column":1,"offset":7132},"end":{"line":147,"column":85,"offset":7216}}},{"type":"text","value":"\n","position":{"start":{"line":147,"column":85,"offset":7216},"end":{"line":148,"column":1,"offset":7217}}},{"type":"element","tagName":"img","properties":{"src":"/Users/xuzhanhong1/Documents/image-20181110231630674.png","alt":"image-20181110231630674"},"children":[],"position":{"start":{"line":148,"column":1,"offset":7217},"end":{"line":148,"column":85,"offset":7301}}},{"type":"text","value":"\n这意味着react可以在work-in-progress tree中重用旧对象，只需要在下次构建中work-in-progress tree复制key value。这叫double buffering，可以在内存分配和gc中节省时间，现在react完成了这次的commit，并执行剩下的lifecycle hooks和更新任何refs并处理error boundaries\n","position":{"start":{"line":148,"column":85,"offset":7301},"end":{"line":150,"column":1,"offset":7489}}},{"type":"element","tagName":"img","properties":{"src":"/Users/xuzhanhong1/Documents/image-20181110232043775.png","alt":"image-20181110232043775"},"children":[],"position":{"start":{"line":150,"column":1,"offset":7489},"end":{"line":150,"column":85,"offset":7573}}}],"position":{"start":{"line":140,"column":1,"offset":6407},"end":{"line":150,"column":85,"offset":7573}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"优先级","position":{"start":{"line":152,"column":4,"offset":7578},"end":{"line":152,"column":7,"offset":7581}}}],"position":{"start":{"line":152,"column":1,"offset":7575},"end":{"line":152,"column":7,"offset":7581}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token punctuation\">{</span>\n    <span class=\"token string\">\"Synchronous\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"same as stack rec\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"Task\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"before next tick\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"Animation\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"before next frame\"</span><span class=\"token punctuation\">,</span>\n     <span class=\"token string\">\"rIC\"</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">{</span>\n        \t<span class=\"token string\">\"High\"</span><span class=\"token punctuation\">:</span><span class=\"token string\">\"pretty soon\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string\">\"Low\"</span><span class=\"token punctuation\">:</span><span class=\"token string\">\"如数据获取，对100or200ms不敏感\"</span><span class=\"token punctuation\">,</span>\n\t\t\t<span class=\"token string\">\"Offscreen\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"prep for display/scroll\"</span>\n        <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>","position":{"start":{"line":154,"column":1,"offset":7583},"end":{"line":165,"column":4,"offset":7852}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"高优先级的任务会立刻执行，尽管现在已经开始了低优先级的任务","position":{"start":{"line":167,"column":1,"offset":7854},"end":{"line":167,"column":30,"offset":7883}}}],"position":{"start":{"line":167,"column":1,"offset":7854},"end":{"line":167,"column":30,"offset":7883}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"img","properties":{"src":"/Users/xuzhanhong1/Documents/image-20181110232753533.png","alt":"image-20181110232753533"},"children":[],"position":{"start":{"line":169,"column":1,"offset":7885},"end":{"line":169,"column":85,"offset":7969}}}],"position":{"start":{"line":169,"column":1,"offset":7885},"end":{"line":169,"column":85,"offset":7969}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"回到之前我们搞事情的地方，如果我们有一个紧急的font resize button\n","position":{"start":{"line":171,"column":1,"offset":7971},"end":{"line":172,"column":1,"offset":8013}}},{"type":"element","tagName":"img","properties":{"src":"/Users/xuzhanhong1/Documents/image-20181110233032279.png","alt":"image-20181110233032279"},"children":[],"position":{"start":{"line":172,"column":1,"offset":8013},"end":{"line":172,"column":85,"offset":8097}}}],"position":{"start":{"line":171,"column":1,"offset":7971},"end":{"line":172,"column":85,"offset":8097}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"用户点击后会放置一个callback到主线程处理队列中","position":{"start":{"line":174,"column":1,"offset":8099},"end":{"line":174,"column":28,"offset":8126}}}],"position":{"start":{"line":174,"column":1,"offset":8099},"end":{"line":174,"column":28,"offset":8126}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"lifecycle hook during the phase","position":{"start":{"line":182,"column":4,"offset":8137},"end":{"line":182,"column":35,"offset":8168}}}],"position":{"start":{"line":182,"column":1,"offset":8134},"end":{"line":182,"column":35,"offset":8168}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"img","properties":{"src":"/Users/xuzhanhong1/Documents/image-20181111143014786.png","alt":"image-20181111143014786"},"children":[],"position":{"start":{"line":184,"column":1,"offset":8170},"end":{"line":184,"column":85,"offset":8254}}}],"position":{"start":{"line":184,"column":1,"offset":8170},"end":{"line":184,"column":85,"offset":8254}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"img","properties":{"src":"/Users/xuzhanhong1/Documents/image-20181111143107194.png","alt":"image-20181111143107194"},"children":[],"position":{"start":{"line":186,"column":1,"offset":8256},"end":{"line":186,"column":85,"offset":8340}}}],"position":{"start":{"line":186,"column":1,"offset":8256},"end":{"line":186,"column":85,"offset":8340}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"starvation","position":{"start":{"line":190,"column":4,"offset":8347},"end":{"line":190,"column":14,"offset":8357}}}],"position":{"start":{"line":190,"column":1,"offset":8344},"end":{"line":190,"column":14,"offset":8357}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"reusing work where it can. So if it had a low priority work that was done and the high priority work didn’t touch that part of the tree then they can reuse that work.","position":{"start":{"line":192,"column":1,"offset":8359},"end":{"line":192,"column":167,"offset":8525}}}],"position":{"start":{"line":192,"column":1,"offset":8359},"end":{"line":192,"column":167,"offset":8525}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"img","properties":{"src":"/Users/xuzhanhong1/Documents/image-20181111143219524.png","alt":"image-20181111143219524"},"children":[],"position":{"start":{"line":194,"column":1,"offset":8527},"end":{"line":194,"column":85,"offset":8611}}}],"position":{"start":{"line":194,"column":1,"offset":8527},"end":{"line":194,"column":85,"offset":8611}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"相关资料","position":{"start":{"line":198,"column":4,"offset":8618},"end":{"line":198,"column":8,"offset":8622}}}],"position":{"start":{"line":198,"column":1,"offset":8615},"end":{"line":198,"column":8,"offset":8622}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"http://link.zhihu.com/?target=https%3A//github.com/facebook/react/blob/master/packages/shared/ReactSideEffectTags.js"},"children":[{"type":"text","value":"effectTag","position":{"start":{"line":200,"column":2,"offset":8625},"end":{"line":200,"column":11,"offset":8634}}}],"position":{"start":{"line":200,"column":1,"offset":8624},"end":{"line":200,"column":130,"offset":8753}}}],"position":{"start":{"line":200,"column":1,"offset":8624},"end":{"line":200,"column":130,"offset":8753}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://github.com/facebook/react/blob/0154a79fedef38a824a837c535bc853013dd4588/packages/react-scheduler/src/ReactScheduler.js#L25-L31"},"children":[{"type":"text","value":"react custom rIC","position":{"start":{"line":202,"column":2,"offset":8756},"end":{"line":202,"column":18,"offset":8772}}}],"position":{"start":{"line":202,"column":1,"offset":8755},"end":{"line":202,"column":155,"offset":8909}}}],"position":{"start":{"line":202,"column":1,"offset":8755},"end":{"line":202,"column":155,"offset":8909}}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":204,"column":1,"offset":8911}}}}